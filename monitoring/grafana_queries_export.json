{
  "queries": [
    {
      "name": "Todos los logs",
      "description": "Ver todos los logs de la aplicación",
      "query": "{job=\"freesquash-api\"}",
      "datasource": "Loki"
    },
    {
      "name": "Solo errores",
      "description": "Filtrar solo logs de nivel ERROR (50)",
      "query": "{job=\"freesquash-api\"} | json | level=\"50\"",
      "datasource": "Loki"
    },
    {
      "name": "Eventos de negocio",
      "description": "Ver eventos de negocio (partidos, usuarios, cierres)",
      "query": "{job=\"freesquash-api\"} | json | type=\"business_event\"",
      "datasource": "Loki"
    },
    {
      "name": "Requests HTTP",
      "description": "Ver todas las peticiones HTTP con detalles",
      "query": "{job=\"freesquash-api\"} | json | type=\"http_request\"",
      "datasource": "Loki"
    },
    {
      "name": "Errores y warnings",
      "description": "Errores (50) y warnings (40)",
      "query": "{job=\"freesquash-api\"} | json | level=~\"40|50\"",
      "datasource": "Loki"
    },
    {
      "name": "Requests lentos",
      "description": "Requests HTTP con tiempo de respuesta > 1000ms",
      "query": "{job=\"freesquash-api\"} | json | type=\"http_request\" | responseTime > 1000",
      "datasource": "Loki"
    },
    {
      "name": "Partidos creados",
      "description": "Eventos de creación de partidos",
      "query": "{job=\"freesquash-api\"} | json | event=\"match_created\"",
      "datasource": "Loki"
    },
    {
      "name": "Usuarios registrados",
      "description": "Eventos de registro de usuarios",
      "query": "{job=\"freesquash-api\"} | json | event=\"user_registered\"",
      "datasource": "Loki"
    },
    {
      "name": "Autenticación",
      "description": "Eventos relacionados con login/logout",
      "query": "{job=\"freesquash-api\"} | json | action=~\"login|logout\"",
      "datasource": "Loki"
    },
    {
      "name": "Tasa de errores",
      "description": "Porcentaje de errores sobre total de logs",
      "query": "sum(rate({job=\"freesquash-api\"} | json | level=\"50\" [5m])) / sum(rate({job=\"freesquash-api\"} [5m]))",
      "datasource": "Loki"
    }
  ],
  "instructions": {
    "es": "Para usar estas consultas: 1) Ve a Explore en Grafana, 2) Selecciona datasource Loki, 3) Pega la query, 4) Haz clic en la estrella para guardar",
    "en": "To use these queries: 1) Go to Explore in Grafana, 2) Select Loki datasource, 3) Paste the query, 4) Click the star to save"
  }
}